# Bundestag protocol XML merger

A tool for merging the XML formatted documents produced by our Bundestag [TOC converter](https://github.com/Shoggomo/bundestags_protocol_toc_converter) and [content converter](https://github.com/jmhoffmann9612/bundestags_protocol_content_converter) and adding information to the `<dbtplenarprotokoll>` tag wrapping the merged information, to conform to the [official Bundestag DTD](https://www.bundestag.de/resource/blob/575720/70d7f2af6e4bebd9a550d9dc4bc03900/dbtplenarprotokoll-data.dtd) as closely as possible.

All protocols for which this script produces good results are already merged and can be found in the `2_output` directory of this repository.

## Prerequisites

- Python 3 (written in version 3.9)

## Repo folder structure

- `1_input`: paste input files here
  - `content_xml`: the content of the protocols parsed into XML format, found [here](https://github.com/jmhoffmann9612/bundestags_protocol_content_converter/tree/main/3_output).
  - `toc_xml`: the tables of content of the protocols parsed into XML format, found [here](https://github.com/Shoggomo/bundestags_protocol_toc_converter/tree/main/xml_output).
- `2_output`: the merged XML files generated by the script can be found here. Also contains a copy of the Bundestag DTD for validation of the documents.

## Usage

Paste the source files in the corresponding input folders (see above), then, with the root folder of this repository as the current working directory, run:

`python main.py`

The script will first check whether the prefixes/IDs of the files in the input folders are identical, else it will terminate. The script will also terminate if any other errors are encountered, though files successfully generated before encountering the error can still be found in the output folder.

## Issues

- According to the DTD, the root tag, `<dbtplenarprotokoll>`, certain attributes are required. If the information for these attributes is not available, the attributes are still added, but with an empty value.
- The root tag also requires the sub-elements `<anlagen>` and `<rednerliste>` according to the DTD. This information which is not made available through our other scripts.
